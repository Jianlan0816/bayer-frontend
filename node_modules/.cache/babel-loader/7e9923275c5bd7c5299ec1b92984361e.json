{"ast":null,"code":"import _objectSpread from\"/Users/jianlan/Reactide/MyApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/Users/jianlan/Reactide/MyApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"component\"],_excluded2=[\"component\"];import React from\"react\";import{HashRouter,Route,Switch,Redirect}from\"react-router-dom\";// components\nimport Layout from\"./Layout\";// pages\nimport Error from\"../pages/error\";import Login from\"../pages/login\";// context\nimport{useUserState}from\"../context/UserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){// global\nvar _useUserState=useUserState(),isAuthenticated=_useUserState.isAuthenticated;return/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/app/dashboard\"});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/app\",render:function render(){return/*#__PURE__*/_jsx(Redirect,{to:\"/app/dashboard\"});}}),/*#__PURE__*/_jsx(PrivateRoute,{path:\"/app\",component:Layout}),/*#__PURE__*/_jsx(PublicRoute,{path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{component:Error})]})});// #######################################################################\nfunction PrivateRoute(_ref){var component=_ref.component,rest=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return isAuthenticated?/*#__PURE__*/React.createElement(component,props):/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}}));}function PublicRoute(_ref2){var component=_ref2.component,rest=_objectWithoutProperties(_ref2,_excluded2);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return isAuthenticated?/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/\"}}):/*#__PURE__*/React.createElement(component,props);}}));}}","map":{"version":3,"sources":["/Users/jianlan/Reactide/MyApp/src/components/App.js"],"names":["React","HashRouter","Route","Switch","Redirect","Layout","Error","Login","useUserState","App","isAuthenticated","PrivateRoute","component","rest","props","createElement","pathname","state","from","location","PublicRoute"],"mappings":"gXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,MAA5B,CAAoCC,QAApC,KAAoD,kBAApD,CAEA;AACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CAEA;AACA,OAASC,YAAT,KAA6B,wBAA7B,C,wFAEA,cAAe,SAASC,CAAAA,GAAT,EAAe,CAC5B;AACA,kBAA0BD,YAAY,EAAtC,CAAME,eAAN,eAAMA,eAAN,CAEA,mBACE,KAAC,UAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,MAAM,CAAE,qCAAM,KAAC,QAAD,EAAU,EAAE,CAAC,gBAAb,EAAN,EAA9B,EADF,cAEE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,MAFP,CAGE,MAAM,CAAE,qCAAM,KAAC,QAAD,EAAU,EAAE,CAAC,gBAAb,EAAN,EAHV,EAFF,cAOE,KAAC,YAAD,EAAc,IAAI,CAAC,MAAnB,CAA0B,SAAS,CAAEL,MAArC,EAPF,cAQE,KAAC,WAAD,EAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEE,KAAtC,EARF,cASE,KAAC,KAAD,EAAO,SAAS,CAAED,KAAlB,EATF,GADF,EADF,CAgBA;AAEA,QAASK,CAAAA,YAAT,MAA8C,IAAtBC,CAAAA,SAAsB,MAAtBA,SAAsB,CAARC,IAAQ,0CAC5C,mBACE,KAAC,KAAD,gCACMA,IADN,MAEE,MAAM,CAAE,gBAAAC,KAAK,QACXJ,CAAAA,eAAe,cACbV,KAAK,CAACe,aAAN,CAAoBH,SAApB,CAA+BE,KAA/B,CADa,cAGb,KAAC,QAAD,EACE,EAAE,CAAE,CACFE,QAAQ,CAAE,QADR,CAEFC,KAAK,CAAE,CACLC,IAAI,CAAEJ,KAAK,CAACK,QADP,CAFL,CADN,EAJS,EAFf,GADF,CAmBD,CAED,QAASC,CAAAA,WAAT,OAA6C,IAAtBR,CAAAA,SAAsB,OAAtBA,SAAsB,CAARC,IAAQ,4CAC3C,mBACE,KAAC,KAAD,gCACMA,IADN,MAEE,MAAM,CAAE,gBAAAC,KAAK,QACXJ,CAAAA,eAAe,cACb,KAAC,QAAD,EACE,EAAE,CAAE,CACFM,QAAQ,CAAE,GADR,CADN,EADa,cAObhB,KAAK,CAACe,aAAN,CAAoBH,SAApB,CAA+BE,KAA/B,CARS,EAFf,GADF,CAgBD,CACF","sourcesContent":["import React from \"react\";\nimport { HashRouter, Route, Switch, Redirect } from \"react-router-dom\";\n\n// components\nimport Layout from \"./Layout\";\n\n// pages\nimport Error from \"../pages/error\";\nimport Login from \"../pages/login\";\n\n// context\nimport { useUserState } from \"../context/UserContext\";\n\nexport default function App() {\n  // global\n  var { isAuthenticated } = useUserState();\n\n  return (\n    <HashRouter>\n      <Switch>\n        <Route exact path=\"/\" render={() => <Redirect to=\"/app/dashboard\" />} />\n        <Route\n          exact\n          path=\"/app\"\n          render={() => <Redirect to=\"/app/dashboard\" />}\n        />\n        <PrivateRoute path=\"/app\" component={Layout} />\n        <PublicRoute path=\"/login\" component={Login} />\n        <Route component={Error} />\n      </Switch>\n    </HashRouter>\n  );\n\n  // #######################################################################\n\n  function PrivateRoute({ component, ...rest }) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isAuthenticated ? (\n            React.createElement(component, props)\n          ) : (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: {\n                  from: props.location,\n                },\n              }}\n            />\n          )\n        }\n      />\n    );\n  }\n\n  function PublicRoute({ component, ...rest }) {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isAuthenticated ? (\n            <Redirect\n              to={{\n                pathname: \"/\",\n              }}\n            />\n          ) : (\n            React.createElement(component, props)\n          )\n        }\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}